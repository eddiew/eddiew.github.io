function redraw(){var t=context.createLinearGradient(0,0,w,0);switch(document.querySelector('input[name="type"]:checked').value){case"helix":for(var e=0;N_STOPS>=e;e++)t.addColorStop(e/N_STOPS,new HelixHSL(e/N_STOPS,1,.5).toRGB());break;case"standard":for(var e=0;N_STOPS>=e;e++)t.addColorStop(e/N_STOPS,rgbToString(hslToRgb(e/N_STOPS,1,.5)))}context.fillStyle=t,context.fillRect(0,0,w,h)}function HelixHSL(t,e,n){this.h=t,this.s=e,this.l=n,this.r=this.getChannel(t,e,n),this.g=this.getChannel(t-1/3,e,n),this.b=this.getChannel(t-2/3,e,n)}function hslToRgb(t,e,n){var o,h,r;if(0==e)o=h=r=n;else{var i=.5>n?n*(1+e):n+e-n*e,a=2*n-i;o=hue2Rgb(a,i,t+1/3),h=hue2Rgb(a,i,t),r=hue2Rgb(a,i,t-1/3)}return{r:Math.round(255*o),g:Math.round(255*h),b:Math.round(255*r)}}function hue2Rgb(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}function rgbToString(t){return"rgb("+t.r+","+t.g+","+t.b+")"}var N_STOPS=24,helixdemo,context,w,h;$window.load(function(){helixdemo=document.getElementById("helixDemo"),context=helixdemo.getContext("2d"),w=helixdemo.width,h=helixdemo.height,redraw()}),HelixHSL.prototype.getChannel=function(t,e,n){return Math.round(255*(Math.cos(2*t*Math.PI)*Math.min(n,Math.min(e/2,1-n))+n))},HelixHSL.prototype.hexFromChannel=function(t){return t>255?"FF":t>15?t.toString(16):t>0?"0"+t.toString(16):"00"},HelixHSL.prototype.toHex=function(){return"#"+this.hexFromChannel(this.r)+this.hexFromChannel(this.g)+this.hexFromChannel(this.b)},HelixHSL.prototype.toRGB=function(){return"rgb("+this.r+","+this.g+","+this.b+")"};