$(function(){function i(i){this.activeSlideIdx,this.slideTimerId,this.slides=i.children(".slide");var t=0,e=0;this.slides.each(function(i){$(this).innerHeight()>t&&(t=$(this).innerHeight(),e=i)}),this.slides.eq(e).css("position","static"),this.slideTo(0)}function t(i){return 500+500*i/a.height()}function e(i){n.stop(),n.animate({scrollTop:i},t(Math.abs(a.scrollTop()-i)))}function s(i){var t=i.offset().top;i.innerHeight()<a.height()&&(t+=i.innerHeight()/2-a.height()/2),e(t)}var n=$("html, body"),a=$(window);i.prototype={slideTo:function(i){this.slides.eq(this.activeSlideIdx).removeClass("active"),this.slides.eq(i).addClass("active"),this.activeSlideIdx=i},slide:function(){this.slideTo((this.activeSlideIdx+1)%this.slides.length)},autoSlide:function(){var i=this;this.slideTimerId=setInterval(function(){i.slide()},5e3)}},$(".slideshow").each(function(){var t=new i($(this));t.autoSlide()});var o,l=[];$("#nav").find("a").each(function(i){var t=$(this),n=t.attr("href").substring(1),a=$("#"+n);0===i?(o=n,t.addClass("active"),t.click(function(i){i.preventDefault(),e(0)})):t.click(function(i){i.preventDefault(),s(a)}),l[n]=t}),a.scroll(function(){var i=document.elementFromPoint(221,a.height()/2);i.id!==o&&(l[o].removeClass("active"),o=i.id,l[o].addClass("active"))});var c=$("#home"),h=$("#go"),r=$("#about"),d=parseInt(c.innerHeight(),10),v=parseInt(c.css("min-height"),10),u=d+parseInt($("about").innerHeight()/2-a.height()/2,10);h.click(function(i){i.preventDefault(),s(r)}),a.scroll(function(){a.scrollTop()>u?h.addClass("active"):h.removeClass("active");var i=Math.min(d-v,a.scrollTop());c.innerHeight(d-i),c.css("margin-top",i)})});