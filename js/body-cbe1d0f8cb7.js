"use strict";function getScrollDuration(o){return 500+500*o/$window.height()}function scrollTo(o){$html_body.stop(),$html_body.bind("scroll mousedown DOMMouseScroll mousewheel keyup",function(){$html_body.stop()}),$html_body.animate({scrollTop:o},getScrollDuration(Math.abs($window.scrollTop()-o)),function(){$html_body.unbind("scroll mousedown DOMMouseScroll mousewheel keyup")})}function scrollToTarget(o){var e=o.offset().top;o.innerHeight()<$window.height()&&(e+=o.innerHeight()/2-$window.height()/2),scrollTo(e)}var $html_body=$("html, body"),$window=$(window),curSection,navLinks=[];$("#nav").find("a").each(function(o){var e=$(this),t=$(e.attr("href")),n=e.attr("href").substring(1);0===o?(curSection=n,e.addClass("active").click(function(o){o.preventDefault(),scrollTo(0)})):e.click(function(o){o.preventDefault(),scrollToTarget(t)}),navLinks[n]=e}),$window.scroll(function(){var o=document.elementFromPoint(221,$window.height()/2);o.id!==curSection&&(navLinks[curSection].removeClass("active"),curSection=o.id,navLinks[curSection].addClass("active"))});var $home=$("#home"),$go=$("#go"),$about=$("#about"),homeHeight=parseInt($home.innerHeight(),10),minHomeHeight=parseInt($home.css("min-height"),10),aboutHeight=homeHeight+parseInt($("about").innerHeight()/2-$window.height()/2,10);$go.click(function(o){o.preventDefault(),scrollToTarget($about)}),$window.scroll(function(){$window.scrollTop()>aboutHeight?$go.addClass("inactive"):$go.removeClass("inactive");var o=Math.min(homeHeight-minHomeHeight,$window.scrollTop());$home.innerHeight(homeHeight-o),$home.css("margin-top",o)});