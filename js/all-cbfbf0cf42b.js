"use strict";function getScrollDuration(t){return 500+500*t/$window.height()}function scrollTo(t){$html_body.stop(),$html_body.bind("scroll mousedown DOMMouseScroll mousewheel keyup",function(){$html_body.stop()}),$html_body.animate({scrollTop:t},getScrollDuration(Math.abs($window.scrollTop()-t)),function(){$html_body.unbind("scroll mousedown DOMMouseScroll mousewheel keyup")})}function scrollToTarget(t){var e=t.offset().top;t.innerHeight()<$window.height()&&(e+=t.innerHeight()/2-$window.height()/2),scrollTo(e)}function Slideshow(t,e){var i=this;this.activeSlideIdx=0,this.slideTimerId,this.slides=t.children(".slide"),this.autoSlide=e,this.$progressBar;var n=document.createElement("div");n.className="progressBar",t.append(n),this.$progressBar=$(n);var o=document.createElement("ul");o.className="slidenav";var s=0,r=0;this.slides.each(function(t){$(this).innerHeight()>s&&(s=$(this).innerHeight(),r=t),o.appendChild(document.createElement("li"))}).eq(r).css("position","static"),t.append(o),this.navDots=$(o.children),this.slides.each(function(){$(this).css("top",s/2-$(this).innerHeight()/2)}),this.navDots.each(function(t){$(this).on("click",function(){i.slideTo(t)})}),this.slides.eq(0).addClass("active"),this.navDots.eq(0).addClass("active"),e&&this.queueSlide()}function redraw(){var t=context.createLinearGradient(0,0,w,0);switch(document.querySelector('input[name="type"]:checked').value){case"helix":for(var e=0;N_STOPS>=e;e++)t.addColorStop(e/N_STOPS,new HelixHSL(e/N_STOPS,1,.5).toCss());break;case"saturated":for(var e=0;N_STOPS>=e;e++)t.addColorStop(e/N_STOPS,new HelixHSLSaturated(e/N_STOPS,1,.5).toCss());break;case"standard":for(var e=0;N_STOPS>=e;e++)t.addColorStop(e/N_STOPS,rgbToString(hslToRgb(e/N_STOPS,1,.5)))}context.fillStyle=t,context.fillRect(0,0,w,h)}function RGB(t,e,i){this.r=t,this.g=e,this.b=i}function HelixHSL(t,e,i){this.r=getHelixChannel(t,e,i),this.g=getHelixChannel(t-1/3,e,i),this.b=getHelixChannel(t-2/3,e,i)}function ConstHSL(t,e,i){var n,o,s,r=Math.round(6*t),a=6*t-r;switch(r%6){case 0:n=1,o=a-.5,s=-a-.5;break;case 1:n=-a+.5,o=a+.5,s=-1;break;case 2:n=-a-.5,o=1,s=a-.5;break;case 3:n=-1,o=-a+.5,s=a+.5;break;case 4:n=a-.5,o=-a-.5,s=1;break;case 5:n=a+.5,o=-1,s=-a+.5}this.r=applySL(n,e,i),this.g=applySL(o,e,i),this.b=applySL(s,e,i)}function HelixHSLSaturated(t,e,i){this.r=getSatHelixChannel(t,e,i),this.g=getSatHelixChannel(t-1/3,e,i),this.b=getSatHelixChannel(t-2/3,e,i)}function getHelixChannel(t,e,i){return applySL(Math.cos(2*t*Math.PI),e,i)}function getSatHelixChannel(t,e,i){var n=t-Math.floor(t),o=1;return n>11/12||(n>7/12?o=Math.sin(3*(n-.75)*Math.PI):n>5/12?o=-1:n>1/12&&(o=Math.cos(3*(n-1/12)*Math.PI))),applySL(o,e,i)}function hexFromChannel(t){return t>255?"FF":t>15?Math.round(t).toString(16):t>0?"0"+Math.round(t).toString(16):"00"}function applySL(t,e,i){return 255*(t*Math.min(i,Math.min(e/2,1-i))+i)}function hslToRgb(t,e,i){var n,o,s;if(0==e)n=o=s=i;else{var r=.5>i?i*(1+e):i+e-i*e,a=2*i-r;n=hue2Rgb(a,r,t+1/3),o=hue2Rgb(a,r,t),s=hue2Rgb(a,r,t-1/3)}return{r:Math.round(255*n),g:Math.round(255*o),b:Math.round(255*s)}}function hue2Rgb(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+(e-t)*(2/3-i)*6:t}function rgbToString(t){return"rgb("+t.r+","+t.g+","+t.b+")"}var $html_body,$window,curSection,navLinks={};$(function(){$html_body=$("html, body"),$window=$(window),$("#navlist").find("a").each(function(t){var e=$(this),i=$(e.attr("href")),n=e.attr("href").substring(1);0===t?(curSection=n,e.addClass("active").click(function(t){t.preventDefault(),scrollTo(0)})):e.click(function(t){t.preventDefault(),scrollToTarget(i)}),navLinks[n]=e}),$window.scroll(function(){var t=document.elementFromPoint(221,$window.height()/2);t.id!==curSection&&(navLinks[curSection].removeClass("active"),curSection=t.id,null!=navLinks[curSection]&&navLinks[curSection].addClass("active"))});var t=$("#home"),e=$("#go"),i=$("#about"),n=parseInt(t.innerHeight(),10),o=parseInt(t.css("min-height"),10),s=n+parseInt($("about").innerHeight()/2-$window.height()/2,10);e.click(function(t){t.preventDefault(),scrollToTarget(i)}),$window.scroll(function(){$window.scrollTop()>s?e.addClass("inactive"):e.removeClass("inactive");var i=Math.min(n-o,$window.scrollTop());t.innerHeight(n-i),t.css("margin-top",i)})}),$(window).load(function(){$(".slideshow").map(function(){return new Slideshow($(this),!0)})}),Slideshow.prototype.queueSlide=function(){this.$progressBar.stop();var t=this;this.$progressBar.fadeOut(1e3,function(){t.$progressBar.width(0),t.$progressBar.show(),t.$progressBar.animate({width:"100%"},4e3,"linear",function(){t.slide()})})},Slideshow.prototype.slideTo=function(t){this.slides.eq(this.activeSlideIdx).removeClass("active"),this.navDots.eq(this.activeSlideIdx).removeClass("active"),this.slides.eq(t).addClass("active"),this.navDots.eq(t).addClass("active"),this.activeSlideIdx=t,this.autoSlide&&this.queueSlide()},Slideshow.prototype.slide=function(){this.slideTo((this.activeSlideIdx+1)%this.slides.length)},Slideshow.prototype.autoSlide=function(){this.autoSlide=!0,this.queueSlide()};var N_STOPS=24,helixdemo,context,w,h;$(function(){helixdemo=document.getElementById("helixDemo"),context=helixdemo.getContext("2d"),w=helixdemo.width,h=helixdemo.height,redraw()}),HelixHSL.prototype=RGB.prototype,ConstHSL.prototype=RGB.prototype,HelixHSLSaturated.prototype=RGB.prototype,RGB.prototype.toHex=function(){return"#"+hexFromChannel(this.r)+hexFromChannel(this.g)+hexFromChannel(this.b)},RGB.prototype.toCss=function(){return"rgb("+Math.round(this.r).toString()+","+Math.round(this.g).toString()+","+Math.round(this.b).toString()+")"};